import sys, os
sys.path.append(os.path.join(os.path.dirname(__file__), '..'))
sys.path.append(os.path.join(os.path.dirname(__file__), '..', 'rfi'))

from amazonmws import django_cli
django_cli.execute()

from amazonmws import settings, utils
from amazonmws.loggers import GrayLogger as logger, StaticFieldFilter, get_logger_name
from amazonmws.model_managers import *

if __name__ == "__main__":

    ebay_store_id = 1

    RecipientUserID = 'redflagitems777'

    ItemID = '281924478257'

    Transaction_data = {u'ActualShippingCost': u'0.0', u'PayPalEmailAddress': u'oroojass@hotmail.com', u'TransactionPrice': u'12.78', u'ContainingOrder': {u'OrderID': u'281924478257-1484996706018', u'OrderStatus': u'Completed'}, u'Platform': u'eBay', u'IntangibleItem': u'false', u'BuyerGuaranteePrice': u'20000.0', u'Status': {u'LastTimeModified': u'2016-02-06T13:11:12.000Z', u'eBayPaymentStatus': u'NoPaymentFailure', u'CompleteStatus': u'Complete', u'PaymentMethodUsed': u'PayPal', u'PaymentHoldStatus': u'None', u'IntegratedMerchantCreditCardEnabled': u'false', u'BuyerSelectedShipping': u'true', u'CheckoutStatus': u'CheckoutComplete'}, u'FinalValueFee': u'1.08', u'OrderLineItemID': u'281924478257-1484996706018', u'AdjustmentAmount': u'0.0', u'ConvertedTransactionPrice': u'17.69', u'IsMultiLegShipping': u'false', u'Buyer': {u'EIASToken': u'nY+sHZ2PrBmdj6wVnY+sEZ2PrA2dj6wMkYSkDZODpw2dj6x9nY+seQ==', u'Status': u'Confirmed', u'PositiveFeedbackPercent': u'100.0', u'IDVerified': u'false', u'BuyerInfo': {u'ShippingAddress': {u'AddressOwner': u'eBay', u'Name': u'TRUDIE CHAPMAN', u'AddressID': u'1447337910021', u'AddressUsage': u'DefaultShipping', u'Street1': u'898 US HIGHWAY #1', u'CityName': u'HANCOCK', u'CountryName': u'United States', u'Phone': u'(207) 422-2388', u'Country': u'US', u'PostalCode': u'04640', u'StateOrProvince': u'ME'}}, u'UserID': u'aroostooksweed1957', u'FeedbackScore': u'274', u'eBayGoodStanding': u'true', u'Site': u'US', u'UserIDLastChanged': u'2008-08-28T19:25:20.000Z', u'AboutMePage': u'false', u'FeedbackRatingStar': u'Turquoise', u'VATStatus': u'NoVATTax', u'UserIDChanged': u'false', u'StaticAlias': u'aroost_hvdy6846mf@members.ebay.com', u'UserAnonymized': u'false', u'FeedbackPrivate': u'false', u'NewUser': u'false', u'Email': u'mrschapman57@yahoo.com', u'RegistrationDate': u'2008-08-28T19:25:21.000Z'}, u'TransactionID': u'1484996706018', u'ConvertedAdjustmentAmount': u'0.0', u'ConvertedAmountPaid': u'17.69', u'ActualHandlingCost': u'0.0', u'CreatedDate': u'2016-02-06T13:11:12.000Z', u'BestOfferSale': u'false', u'PaidTime': u'2016-02-06T13:11:12.000Z', u'ExternalTransaction': {u'FeeOrCreditAmount': u'0.67', u'ExternalTransactionID': u'18K165917P9917040', u'PaymentOrRefundAmount': u'12.78', u'ExternalTransactionStatus': u'Succeeded', u'ExternalTransactionTime': u'2016-02-06T13:11:12.000Z'}, u'DepositType': u'None', u'TransactionSiteID': u'US', u'BuyerMessage': u'redflagitems@gmail.com', u'ShippingServiceSelected': {u'ShippingService': u'UPSGround', u'ShippingServiceCost': u'0.0'}, u'MonetaryDetails': {u'Payments': {u'Payment': {u'ReferenceID': u'18K165917P9917040', u'Payer': u'aroostooksweed1957', u'PaymentTime': u'2016-02-06T13:11:12.000Z', u'FeeOrCreditAmount': u'0.67', u'PaymentAmount': u'12.78', u'PaymentStatus': u'Succeeded', u'Payee': u'redflagitems777'}}}, u'QuantityPurchased': u'1', u'AmountPaid': u'12.78', u'ShippingDetails': {u'ChangePaymentInstructions': u'true', u'TaxTable': u'', u'PaymentEdited': u'true', u'ShippingServiceOptions': [{u'ShippingTimeMax': u'6', u'ShippingServiceCost': u'0.0', u'ShippingServicePriority': u'1', u'ShippingService': u'UPSGround', u'ExpeditedService': u'false', u'ShippingTimeMin': u'1'}, {u'ShippingTimeMax': u'4', u'ShippingServiceCost': u'3.99', u'ShippingServicePriority': u'2', u'ShippingService': u'UPS3rdDay', u'ExpeditedService': u'false', u'ShippingTimeMin': u'3'}, {u'ShippingTimeMax': u'1', u'ShippingServiceCost': u'7.99', u'ShippingServicePriority': u'3', u'ShippingService': u'UPSNextDay', u'ExpeditedService': u'true', u'ShippingTimeMin': u'1'}], u'ExcludeShipToLocation': [u'Alaska/Hawaii', u'US Protectorates', u'APO/FPO', u'PO Box'], u'SellingManagerSalesRecordNumber': u'557', u'ShippingType': u'Flat', u'ThirdPartyCheckout': u'false', u'SalesTax': {u'SalesTaxPercent': u'0.0', u'ShippingIncludedInTax': u'false', u'SalesTaxAmount': u'0.0'}}}

    Item = {"Transaction":{"AmountPaid":"12.78","AdjustmentAmount":"0.0","ConvertedAdjustmentAmount":"0.0","Buyer":{"AboutMePage":"false","EIASToken":"nY+sHZ2PrBmdj6wVnY+sEZ2PrA2dj6wMkYSkDZODpw2dj6x9nY+seQ==","Email":"mrschapman57@yahoo.com","FeedbackScore":"274","PositiveFeedbackPercent":"100.0","FeedbackPrivate":"false","FeedbackRatingStar":"Turquoise","IDVerified":"false","eBayGoodStanding":"true","NewUser":"false","RegistrationDate":"2008-08-28T19:25:21.000Z","Site":"US","Status":"Confirmed","UserID":"aroostooksweed1957","UserIDChanged":"false","UserIDLastChanged":"2008-08-28T19:25:20.000Z","VATStatus":"NoVATTax","BuyerInfo":{"ShippingAddress":{"Name":"TRUDIE CHAPMAN","Street1":"898 US HIGHWAY #1","CityName":"HANCOCK","StateOrProvince":"ME","Country":"US","CountryName":"United States","Phone":"(207) 422-2388","PostalCode":"04640","AddressID":"1447337910021","AddressOwner":"eBay","AddressUsage":"DefaultShipping"}},"UserAnonymized":"false","StaticAlias":"aroost_hvdy6846mf@members.ebay.com"},"ShippingDetails":{"ChangePaymentInstructions":"true","PaymentEdited":"true","SalesTax":{"SalesTaxPercent":"0.0","ShippingIncludedInTax":"false","SalesTaxAmount":"0.0"},"ShippingServiceOptions":[{"ShippingService":"UPSGround","ShippingServiceCost":"0.0","ShippingServicePriority":"1","ExpeditedService":"false","ShippingTimeMin":"1","ShippingTimeMax":"6"},{"ShippingService":"UPS3rdDay","ShippingServiceCost":"3.99","ShippingServicePriority":"2","ExpeditedService":"false","ShippingTimeMin":"3","ShippingTimeMax":"4"},{"ShippingService":"UPSNextDay","ShippingServiceCost":"7.99","ShippingServicePriority":"3","ExpeditedService":"true","ShippingTimeMin":"1","ShippingTimeMax":"1"}],"ShippingType":"Flat","SellingManagerSalesRecordNumber":"557","ThirdPartyCheckout":"false","TaxTable":"","ExcludeShipToLocation":["Alaska\/Hawaii","US Protectorates","APO\/FPO","PO Box"]},"ConvertedAmountPaid":"17.69","ConvertedTransactionPrice":"17.69","CreatedDate":"2016-02-06T13:11:12.000Z","DepositType":"None","QuantityPurchased":"1","Status":{"eBayPaymentStatus":"NoPaymentFailure","CheckoutStatus":"CheckoutComplete","LastTimeModified":"2016-02-06T13:11:12.000Z","PaymentMethodUsed":"PayPal","CompleteStatus":"Complete","BuyerSelectedShipping":"true","PaymentHoldStatus":"None","IntegratedMerchantCreditCardEnabled":"false"},"TransactionID":"1484996706018","TransactionPrice":"12.78","BestOfferSale":"false","ExternalTransaction":{"ExternalTransactionID":"18K165917P9917040","ExternalTransactionTime":"2016-02-06T13:11:12.000Z","FeeOrCreditAmount":"0.67","PaymentOrRefundAmount":"12.78","ExternalTransactionStatus":"Succeeded"},"ShippingServiceSelected":{"ShippingService":"UPSGround","ShippingServiceCost":"0.0"},"BuyerMessage":"redflagitems@gmail.com","PaidTime":"2016-02-06T13:11:12.000Z","ContainingOrder":{"OrderID":"281924478257-1484996706018","OrderStatus":"Completed"},"FinalValueFee":"1.08","TransactionSiteID":"US","Platform":"eBay","PayPalEmailAddress":"oroojass@hotmail.com","BuyerGuaranteePrice":"20000.0","ActualShippingCost":"0.0","ActualHandlingCost":"0.0","OrderLineItemID":"281924478257-1484996706018","IsMultiLegShipping":"false","IntangibleItem":"false","MonetaryDetails":{"Payments":{"Payment":{"PaymentStatus":"Succeeded","Payer":"aroostooksweed1957","Payee":"redflagitems777","PaymentTime":"2016-02-06T13:11:12.000Z","PaymentAmount":"12.78","ReferenceID":"18K165917P9917040","FeeOrCreditAmount":"0.67"}}}}}

    TransactionArray = {"AutoPay":"true","BuyItNowPrice":"0.0","Currency":"USD","ItemID":"281924478257","ListingDetails":{"StartTime":"2016-02-01T13:19:14.000Z","EndTime":"2016-03-02T13:19:14.000Z","ViewItemURL":"http:\/\/cgi.ebay.com\/ws\/eBayISAPI.dll?ViewItem&Item=281924478257","ViewItemURLForNaturalSearch":"http:\/\/cgi.ebay.com\/PNY-Attache-32GB-USB-2-0-Flash-Drive-P-FD32GATT03-GE-Fast-Shipping?item=281924478257&category=0&cmd=ViewItem"},"ListingType":"FixedPriceItem","PaymentMethods":"PayPal","PrimaryCategory":{"CategoryID":"175745"},"PrivateListing":"false","Quantity":"1","SecondaryCategory":{"CategoryID":"0"},"Seller":{"AboutMePage":"false","EIASToken":"nY+sHZ2PrBmdj6wVnY+sEZ2PrA2dj6AAkIuhCZaCpA2dj6x9nY+seQ==","Email":"redflagitems@gmail.com","FeedbackScore":"168","PositiveFeedbackPercent":"99.4","FeedbackPrivate":"false","FeedbackRatingStar":"Turquoise","IDVerified":"false","eBayGoodStanding":"true","NewUser":"false","RegistrationDate":"2015-09-11T17:58:24.000Z","Site":"Canada","Status":"Confirmed","UserID":"redflagitems777","UserIDChanged":"false","UserIDLastChanged":"2015-09-11T18:03:13.000Z","VATStatus":"NoVATTax","SellerInfo":{"AllowPaymentEdit":"true","CheckoutEnabled":"true","CIPBankAccountStored":"false","GoodStanding":"true","LiveAuctionAuthorized":"false","MerchandizingPref":"OptIn","QualifiesForB2BVAT":"false","StoreOwner":"true","StoreURL":"http:\/\/www.stores.ebay.ca\/id=1409016051","SafePaymentExempt":"false"}},"SellingStatus":{"ConvertedCurrentPrice":"17.69","CurrentPrice":"12.78","QuantitySold":"1","ListingStatus":"Active"},"Site":"US","StartPrice":"12.78","Title":"PNY Attach\u00e9 32GB USB 2.0 Flash Drive - P-FD32GATT03-GE, Fast Shipping","GetItFast":"false","SKU":"B003YCOMG4","IntegratedMerchantCreditCardEnabled":"false","ConditionID":"1000","ConditionDisplayName":"New"}

    raw = None
    
    transaction = TransactionModelManager.create(ebay_store_id, RecipientUserID, ItemID, Transaction_data, Item, TransactionArray, raw)
