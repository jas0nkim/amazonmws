##### repricers #####


### currently listed items

## repricer - POPULAR ITEMS
## reprice amazon items (ebay listed item only) every 4 hours at minute 15 GMT (4 hours ahead from EST)
# (on odd days)
15 */4 * * * flock -n /applications/amazonmws/locks/repricer_popular.lock /applications/amazonmws/tasks/repricer-premium-popular.sh > /var/log/cron/repricer-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1

## repricer - NORMAL ITEMS
## reprice amazon items (ebay listed item only) every 8 hours at minute 5 GMT (4 hours ahead from EST)
# (on odd days)
5 1-23/8 1-31/2 * * flock -n /applications/amazonmws/locks/repricer_normal.lock /applications/amazonmws/tasks/repricer-premium-normal.sh > /var/log/cron/repricer-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1

## repricer - SLOW ITEMS
## reprice amazon items (ebay listed item only) every 24 hours at hour 3 minute 25 GMT (4 hours ahead from EST)
# (on odd days)
25 3 * * * flock -n /applications/amazonmws/locks/repricer_slow.lock /applications/amazonmws/tasks/repricer-premium-slow.sh > /var/log/cron/repricer-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1

## repricer - SOLD ITEMS
## reprice sold items items in every 2 hours
35 */2 * * * flock -n /applications/amazonmws/locks/repricer_sold.lock /applications/amazonmws/tasks/repricer_sold-premium.sh > /var/log/cron/repricer_sold-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1


## update item title, description, pictures once a week Saturday
17 1 * * 6 flock -n /applications/amazonmws/locks/revise_wo_crawl.lock /applications/amazonmws/tasks/revise-items-wo-crawl.sh > /var/log/cron/revise_wo_crawl-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1


## build ebay item stats everyday at hour 6 minute 20 GMT (4 hours ahead from EST)
20 6 * * * flock -n /applications/amazonmws/locks/stat_builder.lock /applications/amazonmws/tasks/ebay-item-stat-builder.sh > /var/log/cron/stat-builder-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1

## build ebay item popularity everyday at hour 18 minute 22 GMT (4 hours ahead from EST)
22 18 * * * flock -n /applications/amazonmws/locks/popularity_builder.lock /applications/amazonmws/tasks/ebay-item-popularity-builder.sh > /var/log/cron/popularity-builder-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1


## fetch ebay orders every 5 minutes
*/5 * * * * flock -n /applications/amazonmws/locks/orders_fetcher.lock /applications/amazonmws/tasks/ebay-orders-fetcher.sh > /var/log/cron/orders-fetcher-`date +\%Y\%m\%d\%H\%M\%S`.log 2>&1


##### others #####

# remove any cron logs older than 10 days everyday at 00:15 GMT (due to disk usage)
15 0 * * * find /var/log/cron/* -mtime +10 -exec rm {} \;

# remove any html screenshots older than 10 days everyday at 00:35 GMT (due to disk usage)
35 0 * * * find /applications/amazonmws/ss/*.html -mtime +10 -exec rm {} \;
